@echo off
:: é˜²æ­¢ä¸­æ–‡ä¹±ç 
chcp 65001 >nul
title Hexo å…¨è‡ªåŠ¨å‘å¸ƒå·¥å…· - Sudoer2025
color 0A

echo =======================================================
echo        ğŸš€ Sudoer2025 åšå®¢ä¸€é”®å‘å¸ƒç³»ç»Ÿ
echo =======================================================
echo.

set /p msg="è¯·è¾“å…¥æœ¬æ¬¡æ›´æ–°å†…å®¹ (ç›´æ¥å›è½¦é»˜è®¤ Daily Update): "
if "%msg%"=="" set msg=Daily Update

echo.
echo [1/2] æ­£åœ¨å¤‡ä»½æºç åˆ° GitHub...
echo -------------------------------------------------------
:: è¿™é‡Œçš„æ”¹åŠ¨ï¼šbash -l -c (å¼ºåˆ¶åŠ è½½ç”¨æˆ·ç¯å¢ƒï¼Œé˜²æ­¢ git æŠ¥é”™)
wsl -d Ubuntu -u sudoer2025 --cd /mnt/f/my-blog bash -l -c "git add . && git commit -m '%msg%' && git push"

echo.
echo [2/2] æ­£åœ¨ç¼–è¯‘å¹¶å‘å¸ƒåˆ° VPS...
echo -------------------------------------------------------
:: è¿™é‡Œçš„æ”¹åŠ¨ï¼šbash -l -c (å…³é”®ï¼å¦‚æœä¸åŠ  -lï¼Œè„šæœ¬å¯èƒ½æ‰¾ä¸åˆ° hexo å‘½ä»¤)
wsl -d Ubuntu -u sudoer2025 --cd /mnt/f/my-blog bash -l -c "hexo clean && hexo g && hexo d"

echo.
echo =======================================================
echo           ğŸ‰ æ‰§è¡Œç»“æŸï¼è¯·æ£€æŸ¥ä¸Šæ–¹æ˜¯å¦æœ‰æŠ¥é”™ (çº¢å­—)
echo =======================================================
pause